 item: 'âœˆï¸ Vluchten (2p)', budget: 730, comfort: 850 },
        { item: 'ğŸ  Kotor (3n)', budget: 195, comfort: 250 },
        { item: 'ğŸ  Durmitor (2n)', budget: 100, comfort: 140 },
        { item: 'ğŸ  Budva (3n)', budget: 210, comfort: 280 },
        { item: 'ğŸš— Huurauto (8 dagen)', budget: 200, comfort: 280 },
        { item: 'â›½ Benzine (~600km)', budget: 60, comfort: 80 },
        { item: 'ğŸš£ Tara Rafting (2p)', budget: 140, comfort: 170 },
        { item: 'â›µ Kotor boottocht (2p)', budget: 60, comfort: 80 },
        { item: 'ğŸš€ Jetski (2p)', budget: 60, comfort: 100 },
        { item: 'ğŸª‚ Parasailing (duo)', budget: 80, comfort: 80 },
        { item: 'ğŸŒ Banana + Wakeboard', budget: 60, comfort: 80 },
        { item: 'â›µ Skadar boottrip (2p)', budget: 40, comfort: 50 },
        { item: 'ğŸ« Entreegelden', budget: 30, comfort: 40 },
        { item: 'ğŸ½ï¸ Eten (9 dagen)', budget: 350, comfort: 500 },
        { item: 'ğŸ¥ Reisverzekering', budget: 40, comfort: 60 },
        { item: 'ğŸ’° Buffer', budget: 85, comfort: 120 }
      ]
    };

    const checklistSections = [
      { title: 'ğŸ”´ NU BOEKEN', items: [
        { key: 'flights', label: 'âœˆï¸ Vluchten Amsterdam â†” Tivat' },
        { key: 'accomKotor', label: 'ğŸ  Accommodatie Kotor (3n)' },
        { key: 'accomDurmitor', label: 'ğŸ  Accommodatie Å½abljak (2n)' },
        { key: 'accomBudva', label: 'ğŸ  Accommodatie Budva (3n)' },
        { key: 'insurance', label: 'ğŸ¥ Reisverzekering' },
        { key: 'rafting', label: 'ğŸš£ TARA RAFTING BOEKEN!' }
      ]},
      { title: 'ğŸŸ  APRIL', items: [
        { key: 'carRental', label: 'ğŸš— Huurauto' },
        { key: 'boatTour', label: 'â›µ Bay of Kotor boottocht' },
        { key: 'watersports', label: 'ğŸš€ Watersport check' }
      ]},
      { title: 'ğŸ“¦ WEEK VOOR', items: [
        { key: 'mapsOffline', label: 'ğŸ“± Google Maps offline' },
        { key: 'printDocs', label: 'ğŸ–¨ï¸ Bevestigingen printen' },
        { key: 'eurosCash', label: 'ğŸ’¶ Euro\'s cash' }
      ]},
      { title: 'ğŸ§³ DOCUMENTEN', items: [
        { key: 'passport', label: 'Paspoort / ID' },
        { key: 'license', label: 'Rijbewijs' },
        { key: 'creditcard', label: 'Creditcard' },
        { key: 'ehic', label: 'EHIC kaart' }
      ]},
      { title: 'ğŸ’ INPAKKEN', items: [
        { key: 'hikingShoes', label: 'ğŸ¥¾ Wandelschoenen!' },
        { key: 'swimwear', label: 'ğŸ‘™ Zwemkleding (2x)' },
        { key: 'sunscreen', label: 'â˜€ï¸ Zonnebrand SPF50' },
        { key: 'rainJacket', label: 'ğŸ§¥ Regenjas (bergen!)' },
        { key: 'camera', label: 'ğŸ“· Camera + waterproof' }
      ]}
    ];

    checklistSections.forEach(sec => sec.items.forEach(i => { if (checklist[i.key] === undefined) checklist[i.key] = false; }));

    function getTypeClass(type) {
      const classes = {
        transport: 'bg-gradient-to-r from-amber-100 to-yellow-100 border-l-4 border-amber-500',
        accommodation: 'bg-gradient-to-r from-amber-100 to-yellow-100 border-l-4 border-yellow-500',
        highlight: 'bg-gradient-to-r from-orange-100 to-amber-100 border-l-4 border-orange-500',
        food: 'bg-gradient-to-r from-green-100 to-emerald-100 border-l-4 border-green-500',
        activity: 'bg-gradient-to-r from-violet-100 to-purple-100 border-l-4 border-purple-500',
        beach: 'bg-gradient-to-r from-cyan-100 to-blue-100 border-l-4 border-cyan-500',
        warning: 'bg-gradient-to-r from-red-200 to-rose-200 border-l-4 border-red-600'
      };
      return classes[type] || 'bg-gray-100 border-l-4 border-gray-400';
    }

    function setDay(d) { activeDay = d; render(); }
    function setTab(t) { activeTab = t; render(); }
    function openModal(act) { selectedModal = act; render(); }
    function closeModal() { selectedModal = null; render(); }
    function toggleCheck(key) { checklist[key] = !checklist[key]; localStorage.setItem('montenegroChecklist', JSON.stringify(checklist)); render(); }
    function toggleDarkMode() { darkMode = !darkMode; localStorage.setItem('montenegroDarkMode', darkMode.toString()); document.body.classList.toggle('dark', darkMode); render(); }

    function addExpense() {
      const desc = document.getElementById('expenseDesc')?.value;
      const amount = parseFloat(document.getElementById('expenseAmount')?.value);
      const cat = document.getElementById('expenseCategory')?.value || 'ğŸ’° Overig';
      if (desc && amount > 0) {
        expenses.push({ id: Date.now(), desc, amount, category: cat });
        localStorage.setItem('montenegroExpenses', JSON.stringify(expenses));
        render();
      }
    }
    function deleteExpense(id) { expenses = expenses.filter(e => e.id !== id); localStorage.setItem('montenegroExpenses', JSON.stringify(expenses)); render(); }

    function saveNote() {
      const note = document.getElementById('dayNoteInput')?.value;
      if (note && note.trim()) {
        if (!dayNotes[activeDay]) dayNotes[activeDay] = [];
        dayNotes[activeDay].push({ id: Date.now(), text: note, ts: new Date().toLocaleString('nl-NL') });
        localStorage.setItem('montenegroDayNotes', JSON.stringify(dayNotes));
        render();
      }
    }
    function deleteNote(id) { dayNotes[activeDay] = (dayNotes[activeDay] || []).filter(n => n.id !== id); localStorage.setItem('montenegroDayNotes', JSON.stringify(dayNotes)); render(); }

    function shareTrip() {
      if (navigator.share) navigator.share({ title: trip.title, url: window.location.href });
      else { navigator.clipboard.writeText(window.location.href); alert('Link gekopieerd!'); }
    }

    function exportTrip() {
      let txt = `${trip.title}\n${trip.dates}\n\n`;
      days.forEach(d => {
        txt += `=== DAG ${d.day}: ${d.title} ===\n`;
        (activities[d.day] || []).forEach(a => { txt += `${a.time} - ${a.title}\n`; });
        txt += '\n';
      });
      const blob = new Blob([txt], { type: 'text/plain' });
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'montenegro-trip.txt'; a.click();
    }

    // MAIN RENDER
    function render() {
      const day = days[activeDay - 1];
      const acts = activities[activeDay] || [];
      const accom = day.accom ? accommodations[day.accom] : null;

      const estBudget = budget.estimated.reduce((s, i) => s + i.budget, 0);
      const estComfort = budget.estimated.reduce((s, i) => s + i.comfort, 0);
      const totalExpenses = expenses.reduce((s, e) => s + e.amount, 0);
      const checkedCount = Object.values(checklist).filter(Boolean).length;
      const totalChecks = checklistSections.reduce((s, sec) => s + sec.items.length, 0);

      const tripDate = new Date('2026-05-16');
      const daysLeft = Math.ceil((tripDate - new Date()) / (1000*60*60*24));

      let html = '';

      // HEADER
      html += `
        <div class="bg-white rounded-3xl p-5 shadow-lg mb-4">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-gray-800">${trip.title}</h1>
              <p class="text-amber-600 font-medium">${trip.subtitle}</p>
              <p class="text-gray-500 text-sm mt-1">${trip.dates} â€¢ ${trip.persons} pers â€¢ ${trip.duration}</p>
            </div>
            <a href="/" class="text-gray-400 hover:text-gray-600 text-2xl">Ã—</a>
          </div>
          <div class="flex flex-wrap gap-2 mt-3">
            ${daysLeft > 0 ? `<span class="bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 py-1.5 rounded-full text-sm font-bold">ğŸ”ï¸ Nog ${daysLeft} dagen!</span>` : ''}
            <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm">ğŸ° Kotor UNESCO</span>
            <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">ğŸš£ Tara Rafting</span>
          </div>
        </div>
      `;

      // TABS
      html += `<div class="flex gap-2 mb-4 overflow-x-auto hide-scrollbar">`;
      [
        { id: 'planning', label: 'ğŸ“… Planning' },
        { id: 'map', label: 'ğŸ—ºï¸ Kaart' },
        { id: 'budget', label: 'ğŸ’° Budget' },
        { id: 'checklist', label: `âœ… (${checkedCount}/${totalChecks})` }
      ].forEach(t => {
        html += `<button onclick="setTab('${t.id}')" class="px-4 py-2 rounded-xl font-medium whitespace-nowrap shadow ${activeTab === t.id ? 'bg-amber-600 text-white' : 'bg-white text-gray-700 hover:bg-amber-50'}">${t.label}</button>`;
      });
      html += `</div>`;

      // PLANNING TAB
      if (activeTab === 'planning') {
        html += `<div class="flex gap-2 overflow-x-auto pb-3 hide-scrollbar">`;
        days.forEach(d => {
          html += `<button onclick="setDay(${d.day})" class="flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap shadow ${activeDay === d.day ? 'bg-amber-600 text-white' : 'bg-white text-gray-700'}">${d.icon} Dag ${d.day}</button>`;
        });
        html += `</div>`;

        html += `
          <div class="bg-white rounded-2xl p-5 shadow-lg mb-4">
            <div class="flex items-center gap-4">
              <span class="text-5xl">${day.icon}</span>
              <div class="flex-1">
                <h2 class="text-2xl font-bold text-gray-800">Dag ${day.day}: ${day.title}</h2>
                <p class="text-gray-500">${day.date} â€¢ ${day.region}</p>
                <p class="text-amber-600 font-semibold">${day.highlight}</p>
              </div>
            </div>
            ${accom ? `<div class="mt-3 bg-amber-50 rounded-xl p-3"><span class="text-xs text-amber-600 font-bold">ğŸ¨ ACCOMMODATIE</span><div class="font-bold text-amber-800">${accom.name}</div><div class="text-sm text-amber-600">${accom.area}</div></div>` : ''}
          </div>
        `;

        html += `<div class="bg-white rounded-2xl p-4 shadow-lg mb-4"><div class="space-y-2">`;
        acts.forEach((act, idx) => {
          const prevLoc = idx > 0 ? acts[idx-1].loc : (accom ? day.accom : null);
          const dist = prevLoc && act.loc ? calcDist(prevLoc, act.loc) : null;
          html += `
            <div onclick='openModal(${JSON.stringify(act).replace(/'/g, "\\'")})' class="rounded-xl p-3 cursor-pointer hover:shadow-md transition ${getTypeClass(act.type)}">
              <div class="flex items-center gap-3">
                <div class="font-mono font-bold text-gray-700 w-12 text-center">${act.time}</div>
                <div class="text-2xl">${act.icon}</div>
                <div class="flex-1 min-w-0">
                  <div class="font-bold text-gray-800">${act.title}</div>
                  <div class="text-gray-600 text-sm truncate">${act.subtitle}</div>
                </div>
                ${dist ? `<div class="text-xs bg-white/60 px-2 py-1 rounded-full hidden md:block">${dist}km</div>` : ''}
                <div class="text-gray-400">â†’</div>
              </div>
            </div>
          `;
        });
        html += `</div></div>`;

        // Special day info boxes
        if (activeDay === 5) {
          html += `
            <div class="bg-gradient-to-r from-blue-100 to-cyan-100 border border-blue-300 rounded-2xl p-4 mb-4">
              <h4 class="font-bold text-blue-800 mb-2">ğŸš£ RAFTING DAG - WAT MEENEMEN</h4>
              <div class="flex flex-wrap gap-2">
                ${['ğŸ‘™ Zwemkleding (aan!)', 'ğŸ‘Ÿ Sportschoenen', 'â˜€ï¸ Zonnebrand', 'ğŸ“· Waterproof camera', 'ğŸ§´ Handdoek'].map(i => `<span class="bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm">${i}</span>`).join('')}
              </div>
              <p class="mt-2 text-blue-700 text-sm">âš ï¸ Water is KOUD (12Â°C) maar wetsuit wordt verstrekt!</p>
            </div>
          `;
        }

        if (activeDay === 7) {
          html += `
            <div class="bg-gradient-to-r from-amber-100 to-orange-100 border border-amber-300 rounded-2xl p-4 mb-4">
              <h4 class="font-bold text-amber-800 mb-2">ğŸš€ WATERSPORT DAG - PRIJZEN</h4>
              <div class="grid grid-cols-2 md:grid-cols-3 gap-2 text-sm">
                <div class="bg-white p-2 rounded-lg"><strong>ğŸš€ Jetski</strong><br/>â‚¬30-60 p.p.</div>
                <div class="bg-white p-2 rounded-lg"><strong>ğŸª‚ Parasailing</strong><br/>â‚¬50/â‚¬80 duo</div>
                <div class="bg-white p-2 rounded-lg"><strong>ğŸŒ Banana</strong><br/>â‚¬15-20 p.p.</div>
                <div class="bg-white p-2 rounded-lg"><strong>ğŸ„ Wakeboard</strong><br/>â‚¬30-50</div>
                <div class="bg-white p-2 rounded-lg"><strong>ğŸ›¶ SUP</strong><br/>â‚¬10-20/uur</div>
              </div>
            </div>
          `;
        }

        // Day Notes
        html += `
          <div class="bg-gradient-to-r from-amber-100 to-orange-100 rounded-2xl p-4 shadow">
            <h4 class="font-bold text-amber-800 mb-3">ğŸ“ Notities - Dag ${activeDay}</h4>
            <div class="flex gap-2 mb-3">
              <input type="text" id="dayNoteInput" placeholder="Schrijf notitie..." class="flex-1 px-4 py-2 rounded-xl border text-sm">
              <button onclick="saveNote()" class="bg-amber-600 text-white px-4 py-2 rounded-xl font-medium">+</button>
            </div>
            ${(dayNotes[activeDay] || []).length > 0 ? `<div class="space-y-2">${(dayNotes[activeDay] || []).map(n => `
              <div class="bg-white rounded-lg p-3 flex justify-between">
                <div><p class="text-gray-800">${n.text}</p><p class="text-xs text-gray-400">${n.ts}</p></div>
                <button onclick="deleteNote(${n.id})" class="text-red-400 hover:text-red-600">Ã—</button>
              </div>
            `).join('')}</div>` : ''}
          </div>
        `;
      }

      // MAP TAB
      if (activeTab === 'map') {
        const dayLocs = acts.filter(a => a.loc && locations[a.loc]).map(a => ({ ...a, ...locations[a.loc] }));
        
        html += `<div class="flex gap-2 overflow-x-auto pb-3 hide-scrollbar mb-4">`;
        days.forEach(d => {
          html += `<button onclick="setDay(${d.day}); setTab('map');" class="flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap shadow ${activeDay === d.day ? 'bg-amber-600 text-white' : 'bg-white text-gray-700'}">${d.icon} Dag ${d.day}</button>`;
        });
        html += `</div>`;

        html += `
          <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
            <div class="p-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white">
              <h3 class="font-bold text-lg">ğŸ—ºï¸ Dag ${activeDay}: ${day.title}</h3>
              <p class="text-white/80 text-sm">${dayLocs.length} locaties</p>
            </div>
            <div class="p-4 space-y-2">
              ${dayLocs.map((loc, i) => `
                <a href="${getMapsUrl(loc.loc)}" target="_blank" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-amber-50 transition">
                  <div class="w-8 h-8 rounded-full bg-amber-600 text-white flex items-center justify-center font-bold text-sm">${i+1}</div>
                  <span class="text-2xl">${loc.icon}</span>
                  <div class="flex-1"><div class="font-medium text-gray-800">${loc.title}</div><div class="text-sm text-gray-500">${loc.time}</div></div>
                  <span class="text-amber-500">ğŸ“</span>
                </a>
              `).join('')}
            </div>
            ${dayLocs.length > 1 ? `
              <div class="p-4 bg-amber-50 border-t">
                <a href="https://www.google.com/maps/dir/${dayLocs.map(l => `${l.lat},${l.lng}`).join('/')}" target="_blank" class="block w-full bg-amber-600 text-white text-center py-3 rounded-xl font-bold">ğŸ—ºï¸ Open volledige route</a>
              </div>
            ` : ''}
          </div>
        `;
      }

      // BUDGET TAB
      if (activeTab === 'budget') {
        html += `
          <div class="space-y-4">
            <div class="bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-5 text-white shadow-lg">
              <h3 class="font-bold text-lg mb-3">ğŸ’¸ Uitgaven Tracker</h3>
              <div class="grid grid-cols-3 gap-2 mb-3">
                <input type="text" id="expenseDesc" placeholder="Omschrijving" class="col-span-2 px-3 py-2 rounded-lg text-gray-800 text-sm">
                <input type="number" id="expenseAmount" placeholder="â‚¬" step="0.01" class="px-3 py-2 rounded-lg text-gray-800 text-sm">
              </div>
              <div class="flex gap-2">
                <select id="expenseCategory" class="flex-1 px-3 py-2 rounded-lg text-gray-800 text-sm">
                  <option>ğŸ½ï¸ Eten</option><option>ğŸš— Vervoer</option><option>ğŸ« Activiteit</option><option>ğŸ Shopping</option><option>ğŸ’° Overig</option>
                </select>
                <button onclick="addExpense()" class="bg-white text-amber-600 px-4 py-2 rounded-lg font-bold">+</button>
              </div>
              ${expenses.length > 0 ? `<div class="mt-4 pt-4 border-t border-white/30 flex justify-between"><span>Totaal uitgegeven:</span><span class="text-2xl font-bold">â‚¬${totalExpenses.toFixed(2)}</span></div>` : ''}
            </div>

            ${expenses.length > 0 ? `
              <div class="bg-white rounded-2xl p-4 shadow-lg">
                <h3 class="font-bold text-gray-800 mb-3">ğŸ“ Uitgaven</h3>
                <div class="space-y-2 max-h-48 overflow-y-auto">
                  ${expenses.slice().reverse().map(e => `
                    <div class="flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg">
                      <div><span class="text-sm text-gray-500">${e.category}</span> <span class="font-medium text-gray-800">${e.desc}</span></div>
                      <div class="flex items-center gap-2">
                        <span class="font-bold text-amber-600">â‚¬${e.amount.toFixed(2)}</span>
                        <button onclick="deleteExpense(${e.id})" class="text-gray-400 hover:text-red-500">Ã—</button>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            ` : ''}

            <div class="bg-white rounded-2xl p-4 shadow-lg">
              <h3 class="font-bold text-gray-800 mb-3">ğŸ“Š Geschatte Kosten</h3>
              <div class="space-y-1 max-h-64 overflow-y-auto">
                ${budget.estimated.map(i => `
                  <div class="flex justify-between py-2 border-b border-gray-100">
                    <span class="text-sm text-gray-700">${i.item}</span>
                    <span class="font-mono text-sm text-gray-600">â‚¬${i.budget} | â‚¬${i.comfort}</span>
                  </div>
                `).join('')}
              </div>
              <div class="mt-3 pt-3 border-t-2 border-amber-200 flex justify-between font-bold">
                <span class="text-gray-800">TOTAAL</span>
                <span class="text-gray-800">â‚¬${estBudget} | â‚¬${estComfort}</span>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div class="bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-4 text-white text-center">
                <div class="text-sm opacity-80">ğŸ’š Budget</div>
                <div class="text-3xl font-bold">â‚¬${estBudget}</div>
                <div class="text-sm opacity-80">â‚¬${Math.round(estBudget/2)} p.p.</div>
              </div>
              <div class="bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-4 text-white text-center">
                <div class="text-sm opacity-80">âœ¨ Comfort</div>
                <div class="text-3xl font-bold">â‚¬${estComfort}</div>
                <div class="text-sm opacity-80">â‚¬${Math.round(estComfort/2)} p.p.</div>
              </div>
            </div>
          </div>
        `;
      }

      // CHECKLIST TAB
      if (activeTab === 'checklist') {
        html += `<div class="space-y-4">`;
        checklistSections.forEach(sec => {
          const secChecked = sec.items.filter(i => checklist[i.key]).length;
          html += `
            <div class="bg-white rounded-2xl p-4 shadow-lg">
              <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">${sec.title} <span class="text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full">${secChecked}/${sec.items.length}</span></h3>
              <div class="space-y-2">
                ${sec.items.map(i => `
                  <label class="flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer">
                    <input type="checkbox" ${checklist[i.key] ? 'checked' : ''} onchange="toggleCheck('${i.key}')" class="w-5 h-5 rounded text-amber-600">
                    <span class="${checklist[i.key] ? 'line-through text-gray-400' : 'text-gray-700'}">${i.label}</span>
                  </label>
                `).join('')}
              </div>
            </div>
          `;
        });
        html += `
          <div class="bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-5 text-white">
            <h3 class="font-bold mb-3">ğŸ“Š Voortgang</h3>
            <div class="bg-white/20 rounded-full h-4 mb-2">
              <div class="bg-white rounded-full h-4 transition-all" style="width: ${Math.max((checkedCount/totalChecks)*100, 5)}%"></div>
            </div>
            <div class="text-center">${checkedCount} / ${totalChecks} items</div>
          </div>
        </div>`;
      }

      // MODAL
      if (selectedModal) {
        const m = selectedModal;
        const info = m.info || {};
        const accomLoc = day.accom || 'kotor';
        const dist = m.loc ? calcDist(accomLoc, m.loc) : null;

        html += `
          <div class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50" onclick="closeModal()">
            <div class="bg-white rounded-3xl max-w-lg w-full max-h-[85vh] overflow-y-auto shadow-2xl" onclick="event.stopPropagation()">
              <div class="p-5 ${getTypeClass(m.type)} rounded-t-3xl">
                <div class="flex justify-between items-start">
                  <div class="flex items-center gap-3">
                    <span class="text-4xl">${m.icon}</span>
                    <div>
                      <h3 class="text-xl font-bold text-gray-800">${m.title}</h3>
                      <p class="text-gray-600">${m.time} â€¢ ${m.subtitle}</p>
                    </div>
                  </div>
                  <button onclick="closeModal()" class="text-3xl text-gray-400 hover:text-gray-600">Ã—</button>
                </div>
              </div>
              <div class="p-5 space-y-4">
                ${dist ? `
                  <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-4">
                    <h4 class="font-bold text-blue-800 mb-2">ğŸ“ Afstanden</h4>
                    <div class="bg-white p-3 rounded-xl shadow-sm">
                      <div class="text-gray-500 text-xs">Vanaf accommodatie</div>
                      <div class="font-bold text-blue-700 text-lg">${dist} km</div>
                      <div class="text-xs text-gray-500">${estTime(dist)}</div>
                    </div>
                  </div>
                ` : ''}
                ${info.desc ? `<div><h4 class="font-bold text-gray-700 mb-1">ğŸ“– Beschrijving</h4><p class="text-gray-600">${info.desc}</p></div>` : ''}
                ${info.highlights ? `<div><h4 class="font-bold text-gray-700 mb-2">âœ¨ Highlights</h4><div class="flex flex-wrap gap-2">${info.highlights.map(h => `<span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">${h}</span>`).join('')}</div></div>` : ''}
                ${info.price ? `<div class="bg-green-50 p-4 rounded-xl"><h4 class="font-bold text-green-800 mb-1">ğŸ’° Kosten</h4><p class="text-green-700 font-semibold text-lg">${info.price}</p></div>` : ''}
                ${info.duration ? `<div class="flex items-center gap-2 bg-gray-50 p-3 rounded-xl"><span>â±ï¸</span><strong>Duur:</strong> ${info.duration}</div>` : ''}
                ${info.tips ? `<div><h4 class="font-bold text-gray-700 mb-2">ğŸ’¡ Tips</h4><ul class="space-y-1">${info.tips.map(t => `<li class="text-sm bg-blue-50 text-blue-800 p-2 rounded-lg">â€¢ ${t}</li>`).join('')}</ul></div>` : ''}
                ${info.mustTry ? `<div><h4 class="font-bold text-gray-700 mb-2">ğŸ´ Must Try</h4><div class="flex flex-wrap gap-2">${info.mustTry.map(t => `<span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm">${t}</span>`).join('')}</div></div>` : ''}
                ${info.recommendations ? `<div><h4 class="font-bold text-gray-700 mb-2">ğŸ¯ Aanbevelingen</h4><div class="flex flex-wrap gap-2">${info.recommendations.map(r => `<span class="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm">${r}</span>`).join('')}</div></div>` : ''}
                ${info.warning ? `<div class="bg-red-50 border border-red-200 p-4 rounded-xl"><h4 class="font-bold text-red-800 mb-1">âš ï¸ Let op!</h4><p class="text-red-700">${info.warning}</p></div>` : ''}
                ${info.mustSee ? `<div class="bg-gradient-to-r from-amber-100 to-orange-100 p-4 rounded-xl text-center"><span class="text-2xl">â­</span><span class="font-bold text-gray-800 ml-2">MUST SEE / DO!</span></div>` : ''}
                ${m.loc && getMapsUrl(m.loc) ? `<a href="${getMapsUrl(m.loc)}" target="_blank" class="block w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white text-center py-3 px-4 rounded-xl font-semibold">ğŸ“ Open in Google Maps</a>` : ''}
              </div>
            </div>
          </div>
        `;
      }

      // FOOTER
      html += `
        <div class="mt-6 space-y-3 text-center">
          <div class="flex flex-wrap justify-center gap-2">
            <button onclick="shareTrip()" class="bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 py-2 rounded-xl font-bold shadow">ğŸ”— Deel</button>
            <button onclick="exportTrip()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-xl font-bold shadow">ğŸ“„ Export</button>
            <button onclick="toggleDarkMode()" class="bg-gradient-to-r from-gray-600 to-gray-800 text-white px-4 py-2 rounded-xl font-bold shadow">${darkMode ? 'â˜€ï¸ Light' : 'ğŸŒ™ Dark'}</button>
          </div>
          <p class="text-gray-600 text-sm">ğŸ”ï¸ Montenegro Adventure 2026 ğŸ”ï¸</p>
          <a href="/" class="text-amber-600 hover:underline text-sm">â† Terug naar overzicht</a>
        </div>
      `;

      document.getElementById('app').innerHTML = html;
    }

    render();
  </script>
</body>
</html>
